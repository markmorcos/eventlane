<div class="min-h-screen bg-background py-16">
  <div class="mx-auto max-w-2xl px-4 sm:px-6">
    <div class="mb-6 flex items-center justify-between">
      <h2 class="text-3xl font-bold text-foreground">Create New Event</h2>
      <button hlmBtn variant="secondary" routerLink="/events">Back to events</button>
    </div>

    @if (isAuthenticated()) {
    <div hlmCard>
      <div hlmCardHeader>
        <h3 hlmCardTitle>Event Details</h3>
      </div>
      <div hlmCardContent>
        <form (ngSubmit)="createEvent()" class="space-y-6">
          <div class="space-y-2">
            <label hlmLabel for="title">Event title *</label>
            <input
              hlmInput
              id="title"
              type="text"
              [(ngModel)]="title"
              name="title"
              placeholder="Summer Tech Conference 2025"
              (input)="generateSlug()"
              required
            />
          </div>

          <div class="space-y-2">
            <label hlmLabel for="slug">Unique event name *</label>
            <input
              hlmInput
              id="slug"
              type="text"
              [(ngModel)]="slug"
              name="slug"
              placeholder="summer-tech-conference-2025"
              pattern="[a-z0-9-]+"
              required
            />
            <small class="text-sm text-muted-foreground">Only lowercase letters, numbers, and hyphens</small>
          </div>

          <div class="space-y-2">
            <label hlmLabel for="capacity">Capacity *</label>
            <input
              hlmInput
              id="capacity"
              type="number"
              [(ngModel)]="capacity"
              name="capacity"
              min="1"
              required
            />
            <small class="text-sm text-muted-foreground">Maximum number of confirmed attendees</small>
          </div>

          <div class="flex justify-end">
            <button
              hlmBtn
              type="submit"
              [disabled]="!title || !slug || capacity < 1 || loading()"
            >
              Create Event
            </button>
          </div>

          @if (error()) {
          <p class="text-sm" [class.text-destructive]="error()" [class.text-success]="!error()">
            {{ error() }}
          </p>
          }
        </form>
      </div>
    </div>
    } @else {
    <div hlmCard>
      <div hlmCardContent class="py-12 text-center">
        <p class="text-muted-foreground">Please sign in to create events.</p>
      </div>
    </div>
    }
  </div>
</div>
